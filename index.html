<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>나만의 모듈 하우스 견적 만들기</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * { box-sizing: border-box; }

    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;  /* 세로 스크롤 숨기기 */
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
      background: #f5f5f5;
      color: #222;
    }

    .page-wrap {
      max-width: 1400px;
      height: 100vh;              /* 화면 전체 높이 */
      margin: 0 auto;
      padding: 16px 16px 16px;
      display: grid;
      grid-template-rows: auto 1fr;  /* 위: 헤더, 아래: 본문 */
      box-sizing: border-box;
    }

    h1, h2, h3 { margin: 0; }

    .hb-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 1px solid #e5e5e5;
      gap: 8px;
    }

    .hb-title {
      font-size: 26px;
      font-weight: 700;
    }

    .hb-sub {
      margin-top: 6px;
      font-size: 14px;
      color: #777;
    }

    .hb-note {
      font-size: 12px;
      color: #999;
      text-align: right;
      min-width: 160px;
    }

    .hb-layout {
      display: grid;
      grid-template-columns: minmax(0, 7fr) minmax(0, 3fr); /* 왼쪽 넓게(이미지), 오른쪽 좁게(옵션) */
      gap: 24px;
      height: 100%;     /* 헤더 제외 전체 높이 */
      min-height: 0;
    }

    /* 공통 패널 */
    .hb-panel {
      background: #ffffff;
      border-radius: 12px;
      padding: 16px 18px;
      border: 1px solid #eaeaea;
      margin-bottom: 12px;
    }

    .hb-panel-title {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .hb-option-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 8px;
      font-size: 14px;
      flex-wrap: wrap;
      gap: 6px;
    }

    .hb-option-row:last-child {
      margin-bottom: 0;
    }

    .hb-option-row label {
      display: flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
    }

    .hb-option-row input[type="radio"],
    .hb-option-row input[type="checkbox"] {
      cursor: pointer;
    }

    .hb-option-price {
      font-size: 13px;
      color: #999;
      white-space: nowrap;
    }

    /* 왼쪽: 이미지 카드 */
    .hb-image-card {
      border-radius: 12px;
      border: 1px solid #eaeaea;
      background: #ffffff;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      height: 100%;
      min-height: 0;
    }

    .hb-tabs {
      display: flex;
      border-bottom: 1px solid #e5e5e5;
      background: #fafafa;
    }

    .hb-tab {
      flex: 1;
      text-align: center;
      padding: 10px;
      font-size: 14px;
      cursor: pointer;
      border-bottom: 2px solid transparent;
      transition: all .15s ease;
      user-select: none;
    }

    .hb-tab.active {
      border-bottom-color: #111;
      font-weight: 600;
      background: #ffffff;
    }

    .hb-image-wrap {
      position: relative;
      padding: 0;
      height: 100%;
      min-height: 0;
    }

    .hb-image-wrap img {
      width: 100%;
      height: 100%;      /* 남은 높이 꽉 채우기 */
      display: block;
      border-radius: 10px;
      border: 1px solid #eee;
      background: #f0f0f0;
      object-fit: cover;
    }

    .hb-image-caption {
      position: absolute;
      right: 12px;
      bottom: 8px;
      font-size: 12px;
      color: #f5f5f5;
      text-shadow: 0 0 3px rgba(0,0,0,.6);
    }

    /* 오른쪽: 옵션 + 견적 */
    .hb-right-column {
      display: flex;
      flex-direction: column;
      gap: 12px;
      height: 100%;
      min-height: 0;
    }

    .hb-area-panel {
      display: none;
    }

    .hb-area-panel.active {
      display: block;
    }

    .hb-estimate-card {
      background: #ffffff;
      border-radius: 12px;
      border: 1px solid #eaeaea;
      padding: 16px 18px 18px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      flex: 1;
      min-height: 0;
    }

    .hb-estimate-row {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 12px;
    }

    .hb-estimate-label {
      font-size: 14px;
      color: #666;
    }

    .hb-estimate-price {
      font-size: 24px;
      font-weight: 700;
      text-align: right;
    }

    .hb-estimate-price small {
      font-size: 14px;
      margin-left: 4px;
      font-weight: 400;
      color: #666;
    }

    .hb-summary {
      font-size: 12px;
      color: #999;
      line-height: 1.6;
    }

    .hb-buttons {
      display: flex;
      gap: 8px;
      margin-top: 4px;
      flex-wrap: wrap;
    }

    .hb-btn {
      flex: 1;
      min-width: 0;
      border-radius: 999px;
      padding: 10px 14px;
      font-size: 13px;
      font-weight: 500;
      border: 1px solid #ddd;
      background: #ffffff;
      cursor: pointer;
      transition: background .15s, transform .05s, box-shadow .05s;
      white-space: nowrap;
    }

    .hb-btn-main {
      background: #111111;
      color: #ffffff;
      border-color: #111111;
    }

    .hb-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 2px 4px rgba(0,0,0,.06);
      filter: brightness(0.98);
    }

    .hb-btn:active {
      transform: translateY(0);
      box-shadow: none;
      filter: none;
    }

    .hb-footer-note {
      margin-top: auto;
      font-size: 11px;
      color: #aaa;
      text-align: right;
    }

    @media (max-width: 768px) {
      html, body {
        overflow: auto;  /* 모바일에서는 스크롤 허용 */
      }
      .page-wrap {
        height: auto;
        grid-template-rows: auto auto;
      }
      .hb-layout {
        grid-template-columns: 1fr;
        height: auto;
      }
      .hb-header {
        flex-direction: column;
        align-items: flex-start;
      }
      .hb-note {
        text-align: left;
      }
      .hb-image-card,
      .hb-right-column {
        height: auto;
      }
      .hb-image-wrap {
        height: auto;
      }
      .hb-image-wrap img {
        height: auto;
        max-height: 320px;
      }
    }
  </style>
</head>
<body>
  <div class="page-wrap">

    <header class="hb-header">
      <div>
        <h1 class="hb-title">나만의 모듈 하우스 견적 만들기</h1>
        <p class="hb-sub">사이즈 · 외관 · 거실/침실 · 주방 · 욕실 옵션을 선택하면 예상 견적이 자동 계산됩니다.</p>
      </div>
      <div class="hb-note">
        * 실제 설계 및 현장 상황에 따라<br />
        &nbsp;최종 계약 금액은 변동될 수 있습니다.
      </div>
    </header>

    <main class="hb-layout">
      <!-- 왼쪽: 탭 + 이미지 -->
      <section class="hb-image-card">
        <div class="hb-tabs">
          <div class="hb-tab active" data-tab="exterior">외관</div>
          <div class="hb-tab" data-tab="living">거실/침실</div>
          <div class="hb-tab" data-tab="kitchen">주방</div>
          <div class="hb-tab" data-tab="bath">욕실</div>
        </div>

        <div class="hb-image-wrap">
          <img
            id="hb-image"
            src="https://via.placeholder.com/1200x800?text=%EC%99%B8%EA%B4%80+%EC%9D%B4%EB%AF%B8%EC%A7%80"
            alt="미리보기 이미지"
          />
          <p class="hb-image-caption" id="hb-image-caption">외관 이미지 예시</p>
        </div>
      </section>

      <!-- 오른쪽: 옵션 + 견적 -->
      <section class="hb-right-column">
        <!-- 공통 : 사이즈 -->
        <div class="hb-panel">
          <div class="hb-panel-title">사이즈 선택</div>

          <div class="hb-option-row">
            <label>
              <input type="radio" name="size" value="8평" data-price="0" checked />
              8평 (기본)
            </label>
            <div class="hb-option-price">기본 포함</div>
          </div>

          <div class="hb-option-row">
            <label>
              <input type="radio" name="size" value="10평" data-price="3000000" />
              10평
            </label>
            <div class="hb-option-price">+ 3,000,000원</div>
          </div>

          <div class="hb-option-row">
            <label>
              <input type="radio" name="size" value="12평" data-price="6000000" />
              12평
            </label>
            <div class="hb-option-price">+ 6,000,000원</div>
          </div>
        </div>

        <!-- 탭별 옵션 패널 -->
        <div id="hb-area-panels">
          <!-- 외관 옵션 -->
          <div class="hb-panel hb-area-panel active" data-area="exterior">
            <div class="hb-panel-title">외관 마감</div>

            <div class="hb-option-row">
              <label>
                <input type="radio" name="exterior" value="세라믹 사이딩" data-price="0" checked />
                세라믹 사이딩
              </label>
              <div class="hb-option-price">기본 포함</div>
            </div>

            <div class="hb-option-row">
              <label>
                <input type="radio" name="exterior" value="징크 마감" data-price="2000000" />
                징크 마감
              </label>
              <div class="hb-option-price">+ 2,000,000원</div>
            </div>

            <div class="hb-option-row">
              <label>
                <input type="radio" name="exterior" value="우드+징크 콤비" data-price="3500000" />
                우드+징크 콤비
              </label>
              <div class="hb-option-price">+ 3,500,000원</div>
            </div>
          </div>

          <!-- 거실/침실 옵션 -->
          <div class="hb-panel hb-area-panel" data-area="living">
            <div class="hb-panel-title">거실/침실 옵션</div>

            <div class="hb-option-row">
              <label>
                <input type="checkbox" name="option" value="시스템 에어컨" data-price="1500000" />
                시스템 에어컨
              </label>
              <div class="hb-option-price">+ 1,500,000원</div>
            </div>

            <div class="hb-option-row">
              <label>
                <input type="checkbox" name="option" value="포인트 도장" data-price="600000" />
                포인트 도장
              </label>
              <div class="hb-option-price">+ 600,000원</div>
            </div>

            <div class="hb-option-row">
              <label>
                <input type="checkbox" name="option" value="붙박이장 패키지" data-price="1200000" />
                붙박이장 패키지
              </label>
              <div class="hb-option-price">+ 1,200,000원</div>
            </div>
          </div>

          <!-- 주방 옵션 -->
          <div class="hb-panel hb-area-panel" data-area="kitchen">
            <div class="hb-panel-title">주방 옵션</div>

            <div class="hb-option-row">
              <label>
                <input type="checkbox" name="option" value="주방 업그레이드 패키지" data-price="2000000" />
                주방 업그레이드 패키지
              </label>
              <div class="hb-option-price">+ 2,000,000원</div>
            </div>

            <div class="hb-option-row">
              <label>
                <input type="checkbox" name="option" value="식기세척기 포함" data-price="800000" />
                식기세척기 포함
              </label>
              <div class="hb-option-price">+ 800,000원</div>
            </div>
          </div>

          <!-- 욕실 옵션 -->
          <div class="hb-panel hb-area-panel" data-area="bath">
            <div class="hb-panel-title">욕실 옵션</div>

            <div class="hb-option-row">
              <label>
                <input type="checkbox" name="option" value="욕실 풀옵션 업그레이드" data-price="1500000" />
                욕실 풀옵션 업그레이드
              </label>
              <div class="hb-option-price">+ 1,500,000원</div>
            </div>

            <div class="hb-option-row">
              <label>
                <input type="checkbox" name="option" value="비데 포함" data-price="300000" />
                비데 포함
              </label>
              <div class="hb-option-price">+ 300,000원</div>
            </div>
          </div>
        </div>

        <!-- 견적 카드 -->
        <div class="hb-estimate-card">
          <div class="hb-estimate-row">
            <div class="hb-estimate-label">예상 견적가 (부가세 별도)</div>
            <div class="hb-estimate-price">
              <span id="hb-total-price">0</span><small>원 ~</small>
            </div>
          </div>

          <div class="hb-summary" id="hb-summary">
            8평 · 세라믹 사이딩 · 선택 옵션 기준 예상가입니다.
          </div>

          <div class="hb-buttons">
            <button class="hb-btn" type="button" onclick="alert('이미지 저장 기능은 이후에 연결하세요.')">
              이미지로 저장
            </button>
            <button class="hb-btn hb-btn-main" type="button" onclick="alert('상담 신청 폼 또는 카카오톡 링크로 연결하세요.')">
              이 구성으로 상담 신청하기
            </button>
          </div>

          <p class="hb-footer-note">
            ※ 위 견적은 참고용이며, 구조·자재·현장 여건에 따라 변동될 수 있습니다.
          </p>
        </div>
      </section>
    </main>
  </div>

  <script>
    (function () {
      // 8평 기본가 (원) – 실제 금액으로 맞춰서 사용
      const BASE_PRICE = 15000000;

      const totalPriceEl = document.getElementById("hb-total-price");
      const summaryEl = document.getElementById("hb-summary");
      const imageEl = document.getElementById("hb-image");
      const imageCaptionEl = document.getElementById("hb-image-caption");

      const tabImages = {
        exterior: {
          src: "https://via.placeholder.com/1200x800?text=%EC%99%B8%EA%B4%80+%EC%9D%B4%EB%AF%B8%EC%A7%80",
          caption: "외관 이미지 예시",
        },
        living: {
          src: "https://via.placeholder.com/1200x800?text=%EA%B1%B0%EC%8B%A4+%2F+%EC%B9%A8%EC%8B%A4+%EC%9D%B4%EB%AF%B8%EC%A7%80",
          caption: "거실/침실 이미지 예시",
        },
        kitchen: {
          src: "https://via.placeholder.com/1200x800?text=%EC%A3%BC%EB%B0%A9+%EC%9D%B4%EB%AF%B8%EC%A7%80",
          caption: "주방 이미지 예시",
        },
        bath: {
          src: "https://via.placeholder.com/1200x800?text=%EC%9A%95%EC%8B%A4+%EC%9D%B4%EB%AF%B8%EC%A7%80",
          caption: "욕실 이미지 예시",
        },
      };

      function calculateTotal() {
        let total = BASE_PRICE;

        const size = document.querySelector('input[name="size"]:checked');
        const exterior = document.querySelector('input[name="exterior"]:checked');
        const checkedOptions = document.querySelectorAll('input[name="option"]:checked');

        const optionNames = [];

        if (size) total += Number(size.dataset.price || 0);
        if (exterior) {
          total += Number(exterior.dataset.price || 0);
          optionNames.push(exterior.value);
        }

        checkedOptions.forEach((el) => {
          total += Number(el.dataset.price || 0);
          optionNames.push(el.value);
        });

        totalPriceEl.textContent = total.toLocaleString();

        const sizeText = size ? size.value : "";
        const summaryOptionsText = optionNames.length ? " · 옵션: " + optionNames.join(", ") : "";

        summaryEl.textContent =
          (sizeText || "사이즈 미선택") +
          " 기준, 선택 옵션 포함 예상가입니다" +
          (summaryOptionsText ? " (" + optionNames.join(", ") + ")" : "");
      }

      function initTabs() {
        const tabs = document.querySelectorAll(".hb-tab");
        const areaPanels = document.querySelectorAll(".hb-area-panel");

        tabs.forEach((tab) => {
          tab.addEventListener("click", () => {
            // 탭 활성화
            tabs.forEach((t) => t.classList.remove("active"));
            tab.classList.add("active");

            const key = tab.dataset.tab;

            // 이미지 변경
            const img = tabImages[key];
            if (img) {
              imageEl.src = img.src;
              imageCaptionEl.textContent = img.caption;
            }

            // 옵션 패널 표시 변경
            areaPanels.forEach((panel) => {
              panel.classList.toggle("active", panel.dataset.area === key);
            });
          });
        });
      }

      function bindOptionEvents() {
        const inputs = document.querySelectorAll(
          'input[name="size"], input[name="exterior"], input[name="option"]'
        );
        inputs.forEach((input) => {
          input.addEventListener("change", calculateTotal);
        });
      }

      // 초기 실행
      initTabs();
      bindOptionEvents();
      calculateTotal();
    })();
  </script>
</body>
</html>
